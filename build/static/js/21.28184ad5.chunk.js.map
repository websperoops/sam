{"version":3,"sources":["store/actions/events.js","Component/Barcode.js"],"names":["insertEvent","event","dispatch","a","type","SAVING_EVENT","apiRequest","POST","eventdetails","EVENT_SUCCESS","getEvents","page","rowsPerPage","EVENT_FAIL","payload","uploadEventImage","image","headers","formData","FormData","append","uploadedFile","UPLOAD_IMAGE_SUCCESS","process","data","filepath","updateEvent","PATCH","_id","pageno","pageperitem","FETCH_EVENTS","eventsEndpoint","GET","res","message","EVENTS_FAIL","logout","EVENTS_SUCCESS","response","getEventById","id","deleteEvent","event_id","DELETING_EVENT","DELETE","Barcode","useParams","useDispatch","useSelector","state","eventReducer","url","BASE_URL","useEffect","className","size","value","address"],"mappings":"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","file":"static/js/21.28184ad5.chunk.js","sourcesContent":["import {\n  GET,\n  POST,\n  PATCH,\n  DELETE,\n  SAVING_EVENT,\n  FETCH_EVENTS,\n  EVENTS_SUCCESS,\n  EVENT_SUCCESS,\n  EVENTS_FAIL,\n  EVENT_FAIL,\n  DELETING_EVENT,\n  UPLOAD_IMAGE_SUCCESS,\n\n} from \"../constants\";\n\nimport apiRequest from \"../requests\";\n\n//Actions\nimport { logout } from \"./auth\";\n\nconst BASE_URL = process.env.REACT_APP_API;\n\nexport const insertEvent = (event) => async (dispatch) => {\n  try {\n    dispatch({ type: SAVING_EVENT });\n\n    await apiRequest(POST, \"event/create\", event.eventdetails);\n    dispatch({ type: EVENT_SUCCESS });\n    dispatch(getEvents(event.page, event.rowsPerPage));\n  } catch (err) {\n    dispatch({ type: EVENT_FAIL, payload: err });\n  }\n};\n\nexport const uploadEventImage = (image) => async (dispatch) => {\n  try {\n    dispatch({type:SAVING_EVENT});\n    const headers = {\"Content-Type\": \"multipart/form-data\"};\n    var formData = new FormData();\n    formData.append(\"image\", image);\n    const uploadedFile = await apiRequest(POST, `event/upload`, formData, headers );\n    dispatch({ type: UPLOAD_IMAGE_SUCCESS, payload: `${BASE_URL}/${uploadedFile.data.filepath}` });\n  } catch (err) {\n    dispatch({ type: EVENT_FAIL, payload: err });\n  }\n};\n\nexport const updateEvent = (event) => async (dispatch) => {\n  try {\n    dispatch({ type: SAVING_EVENT });\n    await apiRequest(\n      PATCH,\n      `event/${event.eventdetails._id}`,\n      event.eventdetails\n    );\n    dispatch({ type: EVENT_SUCCESS });\n    dispatch(getEvents(event.page, event.rowsPerPage));\n  } catch (err) {\n    dispatch({ type: EVENT_FAIL, payload: err });\n  }\n};\n\nexport const getEvents = (pageno, pageperitem) => async (dispatch) => {\n  try {\n    dispatch({ type: FETCH_EVENTS });\n    const eventsEndpoint =\n      pageno + 1 && pageperitem\n        ? `event?pageno=${pageno + 1}&pageperitem=${pageperitem}`\n        : \"event\";\n    const res = await apiRequest(GET, eventsEndpoint);\n    if (res.message === \"Token expire\") {\n      dispatch({ type: EVENTS_FAIL, payload: res.message });\n      dispatch(logout());\n    } else {\n      dispatch({ type: EVENTS_SUCCESS, payload: res.data.response });\n    }\n  } catch (err) {\n    dispatch({ type: EVENTS_FAIL, payload: err });\n  }\n};\n\nexport const getEventById = (id) => async (dispatch) => {\n  try {\n    dispatch({ type: FETCH_EVENTS });\n    const res = await apiRequest(GET, `event/${id}`);\n    dispatch({ type: EVENT_SUCCESS, payload: res.data.response });\n  } catch (err) {\n    dispatch({ type: EVENTS_FAIL, payload: err });\n  }\n};\n\nexport const deleteEvent = (event_id, page, rowsPerPage) => async (dispatch) => {\n  try {\n    dispatch({ type: DELETING_EVENT });\n    await apiRequest(DELETE, `event/${event_id}`);\n\n    dispatch(getEvents(page, rowsPerPage));\n  } catch (err) {\n    dispatch({ type: EVENTS_FAIL, payload: err });\n  }\n};\n\n","import QRCode from \"qrcode.react\";\nimport React, { useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\n//Action\nimport { getEventById } from \"../store/actions/events\";\n\nconst Barcode = () => {\n  const { id } = useParams();\n  const dispatch = useDispatch();\n  const { event } = useSelector((state) => state.eventReducer);\n  const BASE_URL = process.env.REACT_APP_FRONTEND;\n  const url = BASE_URL + \"/eventview/\" + id;\n\n  useEffect(() => {\n    dispatch(getEventById(id));\n  }, [dispatch, id]);\n\n  return (\n    <>\n      <div className=\"qr_div\">\n        <div id=\"canvas\" className=\"barcodeclass\">\n          <QRCode size={300} value={url} />\n        </div>\n        <div className=\"scan_here\">\n          <h3>Welcome! scan here</h3>\n          <p>Please scan the QR code above to get more information about open house({event.address})</p>\n        </div>\n      </div>\n\n\n    </>\n  )\n}\n\nexport default Barcode"],"sourceRoot":""}